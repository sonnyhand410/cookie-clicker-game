<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cookie Clicker - Sonny Edition</title>
  <style>
    body {
      background-color: #fceabb;
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 40px;
    }

    h1 {
      font-size: 40px;
      color: #6b4f1d;
    }

    #cookie {
      width: 200px;
      height: 200px;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/6/69/Chocolate_Chip_Cookie.png');
      background-size: cover;
      border: none;
      cursor: pointer;
      transition: transform 0.1s;
    }

    #cookie:active {
      transform: scale(0.95);
    }

    #score {
      font-size: 30px;
      color: #333;
      margin-top: 20px;
    }

    .button {
      margin: 10px;
      padding: 10px 15px;
      font-size: 16px;
      background-color: #ffcc66;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      display: block;
      width: 300px;
      margin-left: auto;
      margin-right: auto;
    }

    .button:disabled {
      background-color: #ddd;
      cursor: not-allowed;
    }

    #upgrades {
      max-height: 400px;
      overflow-y: scroll;
      margin-top: 20px;
    }

    #leaderboard {
      margin-top: 40px;
      background-color: #fff8dc;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      margin-left: auto;
      margin-right: auto;
    }

    #leaderboard h2 {
      margin-bottom: 10px;
    }

    .leaderboard-item {
      font-size: 18px;
      margin: 5px 0;
    }

    #musicToggle {
      margin-top: 20px;
      font-size: 14px;
      background-color: #e0b84f;
    }
  </style>
</head>
<body>
  <h1>üç™ Cookie Clicker - Sonny Edition</h1>
  <button id="cookie"></button>
  <div id="score">Cookies: 0</div>

  <button id="musicToggle" class="button">üîä Pause Music</button>

  <div id="upgrades"></div>

  <div id="leaderboard">
    <h2>üèÜ Leaderboard</h2>
    <div id="leaderboardList"></div>
  </div>

  <!-- Sound Effects -->
  <audio id="clickSound" src="https://freesound.org/data/previews/331/331912_3248244-lq.mp3"></audio>
  <audio id="buySound" src="https://freesound.org/data/previews/202/202761_285997-lq.mp3"></audio>

  <!-- Background Music (must be triggered on click to work in browsers) -->
  <audio id="bgMusic" src="duranduran.mp3" loop></audio>

  <script>
    let cookies = 0;
    const clickSound = document.getElementById('clickSound');
    const buySound = document.getElementById('buySound');
    const bgMusic = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');

    const scoreDisplay = document.getElementById('score');
    const upgradesContainer = document.getElementById('upgrades');
    const leaderboardList = document.getElementById('leaderboardList');
    const cookieBtn = document.getElementById('cookie');

    const fakePlayers = [
      { name: "Emily", score: 150 },
      { name: "Jaxon", score: 100 },
      { name: "Ava", score: 90 },
      { name: "Mason", score: 60 },
      { name: "Isla", score: 40 }
    ];

    const upgrades = [
      { name: "Auto Clicker", cost: 50, cps: 1 },
      { name: "Mega Clicker", cost: 200, cps: 5 },
      { name: "Cookie Oven", cost: 500, cps: 10 },
      { name: "Factory", cost: 1000, cps: 25 },
      { name: "Cookie Mine", cost: 2000, cps: 50 },
      { name: "Cookie Lab", cost: 3000, cps: 80 },
      { name: "Robot Baker", cost: 5000, cps: 150 },
      { name: "Time Machine", cost: 8000, cps: 250 },
      { name: "Cookie Planet", cost: 12000, cps: 400 },
      { name: "Intergalactic Oven", cost: 20000, cps: 700 },
      { name: "Dimension Rift", cost: 30000, cps: 1000 },
      { name: "Sugar Storm", cost: 40000, cps: 1300 },
      { name: "Cocoa Volcano", cost: 50000, cps: 1600 },
      { name: "Cookie Sun", cost: 70000, cps: 2000 },
      { name: "Bakery God", cost: 90000, cps: 2500 },
      { name: "Infinite Dough", cost: 120000, cps: 3000 },
      { name: "Cosmic Kitchen", cost: 150000, cps: 4000 },
      { name: "Quantum Cookie", cost: 180000, cps: 5000 },
      { name: "Bakery Multiverse", cost: 220000, cps: 6000 },
      { name: "Sonny's Secret Sauce", cost: 300000, cps: 10000 }
    ];

    const playerUpgrades = Array(upgrades.length).fill(0);

    function updateScore() {
      scoreDisplay.textContent = `Cookies: ${Math.floor(cookies)}`;
      renderUpgrades();
      updateLeaderboard();
    }

    function updateLeaderboard() {
      const player = { name: "Sonny (You)", score: Math.floor(cookies) };
      const allPlayers = [...fakePlayers, player];
      const sorted = allPlayers.sort((a, b) => b.score - a.score).slice(0, 5);
      leaderboardList.innerHTML = '';
      sorted.forEach((p, index) => {
        leaderboardList.innerHTML += `<div class="leaderboard-item">${index + 1}. ${p.name} - ${p.score} cookies</div>`;
      });
    }

    function renderUpgrades() {
      upgradesContainer.innerHTML = '';
      upgrades.forEach((upgrade, index) => {
        const btn = document.createElement('button');
        btn.className = 'button';
        btn.textContent = `Buy ${upgrade.name} (${upgrade.cost} cookies) [+${upgrade.cps}/s]`;
        btn.disabled = cookies < upgrade.cost;
        btn.onclick = () => buyUpgrade(index);
        upgradesContainer.appendChild(btn);
      });
    }

    function buyUpgrade(index) {
      const upgrade = upgrades[index];
      if (cookies >= upgrade.cost) {
        cookies -= upgrade.cost;
        playerUpgrades[index]++;
        buySound.play();
        setInterval(() => {
          cookies += upgrade.cps;
          updateScore();
        }, 1000);
        updateScore();
      }
    }

    // Click Cookie
    cookieBtn.addEventListener('click', () => {
      cookies++;
      updateScore();
    });

    // Toggle Music
    musicToggle.addEventListener('click', () => {
      if (bgMusic.paused) {
        bgMusic.play();
        musicToggle.textContent = "üîä Pause Music";
      } else {
        bgMusic.pause();
        musicToggle.textContent = "üîà Play Music";
      }
    });

    // Enable music on first user interaction (for browser autoplay policy)
    window.addEventListener('click', () => {
      if (bgMusic.paused) {
        bgMusic.play().catch(() => {
          console.log("Autoplay blocked");
        });
      }
    }, { once: true });

    updateScore();
  </script>
</body>
</html>

